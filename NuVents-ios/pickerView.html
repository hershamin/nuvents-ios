<html ng-app="pickerViewApp">
    <title>Picker View</title>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <script>
            window.setEventCount = function(data) {
                // Process data to friendlier json
                try {
                    data = String(data)
                } catch (e) {}
                angular.element(document.querySelector("body")).scope().setEventCount(data);
            }
			window.setImgUrl = function(data) {
                // Process data to friendlier json
                try {
                    data = String(data)
                } catch (e) {}
                angular.element(document.querySelector("body")).scope().setImgUrl(data);
            }
            var pickerViewApp = angular.module("pickerViewApp", []);
            pickerViewApp.controller("pickerViewCtrl", function ($scope, $http) {
                $scope.setEventCount = function(data) {
                    $scope.$apply(function() {
                        $scope.eventCount = data;
                    })
                }
				$scope.setImgUrl = function(data) {
                    $scope.$apply(function() {
                        $scope.imgUrl = data;
                    })
                }
                $scope.openView = function(view) {
                    window.location = "open" + view + "View://";
                                    
                $scope.email = {
                    text: 'email@example.com'
                                     }
                }
            })
        </script>
        <style>
          html, body {
            margin: 0;
            body: 0;
            height: 100%;
          }
          #outerDiv {
            width:100%;
            height:100%;
          }
          #eventCount {
            width:100%;
            height:10%;
            background-color: #F49A8C;
            color: #1C3C6D;
            font-size: 150%;
            text-align: center;
          }
          #categoryBtn {
            width:100%;
            height:30%;
            background-color: #1C3C6D;
            border-style: none;
            color: #ED5857;
            font-size: 180%;
          }
          #mapBtn {
            width:100%;
            height:30%;
            background-image: url("http://storage.googleapis.com/nuvents-resources/austinSkyline.png");
            background-size: 100% 100%;
            margin: 0 auto;
            text-align: center;
            color: #ED5857;
            font-size: 180%;
          }
          #mapBtn button {
            align-content: center;
            height:50%;
            background-color: transparent;
            border-style: none;
            vertical-align: middle;
            padding: 0;
          }
          #listBtn {
            width:100%;
            height:30%;
            background-color: #1C3C6D;
            border-style: none;
            color: #ED5857;
            font-size: 180%;
          }
        .container {
            background-color: grey;
            width: 100%;
            height: 100%;
        }
        .container h2 {
            font-size: 20x;
        }
        </style>  
    </head>
    <body ng-controller="pickerViewCtrl">
      <div id="outerDiv">
          <div ng-if="eventCount == 0">
              <div class="container">
                  <h2>Uh oh. We haven't added your city yet! Give us your email and and we'll be sure to find you the right events ASAP!</h2>
                  <form name="emailForm">
                      <div class="form-group">
                          <label for="name">Name:</label>
                          <input type="name" class="form-control" name="input" placeholder="Enter name">
                              <label for="email">Email:</label>
                              <input type="email" class="form-control" name="input" ng-model="email.text" placeholder="Enter email">
                              </div>
                      <div role="alert">
                            <span class="error" ng-show="emailForm.input.$error.email"> <strong>Not a valid e-mail address!</strong></span>
                      </div>
                  </form>
                  <button type="submit" class="btn btn-default">Submit</button>
             
              </div>
        </div>
          <div ng-if="eventCount > 0">
        <div id="eventCount">{{eventCount}} events happening nearby</div>
        <button id="categoryBtn" ng-click="openView('Category')">Categories</button>
        <div id="mapBtn">
          Map <br>
          <button ng-click="openView('Map')"><img src="http://storage.googleapis.com/nuvents-resources/mapBtn.png" height="100%"></button>
        </div>
        <button id="listBtn" ng-click="openView('List')">List View</button>
      </div>
    </div>
</div>

    </body>
</html>